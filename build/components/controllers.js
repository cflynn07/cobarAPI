// Generated by CoffeeScript 1.6.3
/*
  Recursively search & attach route handlers in /server/controllers directory
*/


(function() {
  var controllersPath, fs;

  controllersPath = GLOBAL.appRoot + 'controllers';

  fs = require('fs');

  module.exports = function(app) {
    var searchDirectory;
    searchDirectory = function(dir) {
      return fs.readdirSync(dir).forEach(function(name) {
        var controller, stats;
        if (name.indexOf('.coffee') > 0) {
          return;
        }
        stats = fs.lstatSync(dir + '/' + name);
        if (stats.isDirectory()) {
          return searchDirectory(dir + '/' + name);
        } else {
          controller = require(dir + '/' + name);
          return controller(app);
        }
      });
    };
    return searchDirectory(controllersPath);
  };

}).call(this);
